<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>WinUI 3 on Christian Amado's Blog</title><link>https://cmas.dev/tags/winui-3/</link><description>Recent content in WinUI 3 on Christian Amado's Blog</description><generator>Hugo -- gohugo.io</generator><language>es</language><lastBuildDate>Wed, 06 Jul 2022 00:12:00 -0400</lastBuildDate><atom:link href="https://cmas.dev/tags/winui-3/index.xml" rel="self" type="application/rss+xml"/><item><title>Migraci√≥n UWP a WinUI 3</title><link>https://cmas.dev/posts/2022-07-06-upgrade-uwp-to-winui3/</link><pubDate>Wed, 06 Jul 2022 00:12:00 -0400</pubDate><guid>https://cmas.dev/posts/2022-07-06-upgrade-uwp-to-winui3/</guid><description>&lt;p>¬°Feliz cumple para m√≠! Arranco mi d√≠a con un art√≠culo (es d√≠a de festejo as√≠ que ser√° complicado cumplir con la comunidad).&lt;/p>
&lt;p>En este art√≠culo har√© una migraci√≥n de &lt;strong>UWP&lt;/strong> a &lt;strong>WinUI 3&lt;/strong> sin que se complique demasiado.&lt;/p>
&lt;p>&lt;em>&lt;strong>Windows 11 Insider Preview Build 25151&lt;/strong>&lt;/em>&lt;/p>
&lt;p>Microsoft ha anunciado oficialmente la depreciaci√≥n de &lt;strong>UWP&lt;/strong> (Plataforma Universal de Windows) y que no se actualizar√≠a en el nuevo sistema &lt;strong>Windows 11&lt;/strong>. Sin embargo, todav√≠a hay algunas formas de usar &lt;strong>UWP&lt;/strong> en proyectos existentes o nuevos.&lt;/p>
&lt;blockquote>
&lt;p>Microsoft continues to baby-step around the obvious, but it has officially deprecated the Universal Windows Platform (UWP) as it pushes the desktop-focused Windows App SDK (formerly called Project Reunion) and WinUI 3 as the future of Windows application development.&lt;/p>
&lt;/blockquote>
&lt;p>Esto lo expres√≥ Paul Thurrott en su blog (&lt;a href="https://www.thurrott.com/paul">qui√©n es √©l&lt;/a>) donde nos lleva al enlace de &lt;strong>GitHub&lt;/strong> del proyecto &lt;strong>Windows App SDK&lt;/strong>. Aunque esta noticia no es nueva ahora, en este momento abandono &lt;strong>UWP&lt;/strong> antes que me ocurra lo mismo que con mis desarrollos &lt;strong>Windows Phone&lt;/strong> ü´∂&lt;/p>
&lt;h2 id="c√≥mo-proceder-con-la-migraci√≥n">¬øC√≥mo proceder con la migraci√≥n?&lt;/h2>
&lt;p>Como la ansiedad me gana, abr√≠ un proyecto de &lt;strong>UWP&lt;/strong> que ten√≠a (no lo puedo exponer porque es de la empresa donde trabajaba) y decid√≠ crear un nuevo proyecto de tipo &lt;strong>WinUI3&lt;/strong> para adelantarme a los hechos &amp;hellip;&lt;/p>
&lt;p>Me encontr√© con dos maneras de hacer la migraci√≥n:&lt;/p>
&lt;h3 id="la-migraci√≥n-manual">La migraci√≥n &amp;ldquo;manual&amp;rdquo;&lt;/h3>
&lt;p>Al migrar, en la mayor√≠a de los casos, el c√≥digo de la interfaz de usuario solo necesita algunos cambios en el espacio de nombres. Gran parte del c√≥digo de su plataforma seguir√° siendo el mismo. Se tiene que modificar o cambiar alg√∫n c√≥digo en funci√≥n de las diferentes funcionalidades/disponibilidades de las aplicaciones de escritorio frente a las aplicaciones para &lt;strong>UWP&lt;/strong>.&lt;/p>
&lt;p>A nivel general se deben realizar estas tareas:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Crear un nuevo proyecto de escritorio empaquetado de &lt;strong>WinUI 3&lt;/strong> en la soluci√≥n existente.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Copiar el c√≥digo &lt;strong>XAML&lt;/strong> para la &lt;strong>UI&lt;/strong> (esto debido a cambios en los nombres de espacios de nombres).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Copiar el c√≥digo l√≥gico de la aplicaci√≥n (clases diferentes y/o diferencias de APIs).&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Debemos seguir los pasos indicados &lt;a href="https://learn.microsoft.com/es-es/windows/apps/windows-app-sdk/migrate-to-windows-app-sdk/migrate-to-windows-app-sdk-ovw">aqu√≠&lt;/a>&lt;/p>
&lt;h3 id="la-migraci√≥n-con-una-herramienta">La migraci√≥n con una herramienta&lt;/h3>
&lt;p>Para migrar una aplicaci√≥n UWP a &lt;strong>WinUI 3&lt;/strong>, se puede usar el &lt;strong>.NET Upgrade Assistant&lt;/strong>, que es una herramienta que automatiza gran parte del proceso de migraci√≥n. Antes de migrar, se recomienda revisar la siguiente lista de caracter√≠sticas que a√∫n no son compatibles con &lt;strong>WinUI 3&lt;/strong>.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Caracter√≠stica de &lt;strong>UWP&lt;/strong>&lt;/th>
&lt;th>Estado de &lt;strong>WinUI 3&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Controles comunes de la interfaz de usuario&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MSIX&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Notificaciones del sistema&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Iconos din√°micos (en Windows 10)&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Distribuci√≥n a trav√©s de la Tienda&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Biblioteca MSAL&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Visual Studio App Center&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Creaci√≥n de instancias √∫nicas&lt;/td>
&lt;td>‚úÖ Soportado&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Tareas en segundo plano&lt;/td>
&lt;td>‚úÖ Compatible con C++ ‚ö†Ô∏è Compatible parcialmente con C# (se admiten tareas en segundo plano de OOP)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CameraCaptureUI&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CoreTextServicesManager&lt;/td>
&lt;td>‚ö†Ô∏è Solo se admite en Windows 11&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>InkCanvas&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MapControl&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MediaElement&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>PrintManager&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>WebAuthenticationBroker&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Acr√≠lico en el fondo&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Quiosco de una sola aplicaci√≥n&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>TaskbarManager API&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Contenedorizaci√≥n completa de la aplicaci√≥n&lt;/td>
&lt;td>‚ùå No se admite en la versi√≥n 1.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Mejor velocidad y rendimiento de lanzamiento&lt;/td>
&lt;td>‚ö†Ô∏è Ligera desventaja, consulte consideraciones de rendimiento.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>M√°s informaci√≥n sobre la migraci√≥n, se encuentra en la documentaci√≥n oficial de &lt;strong>Microsoft&lt;/strong> &lt;a href="https://learn.microsoft.com/es-es/windows/apps/windows-app-sdk/migrate-to-windows-app-sdk/upgrade-assistant">aqu√≠&lt;/a>&lt;/p>
&lt;h2 id="conclusi√≥n">Conclusi√≥n&lt;/h2>
&lt;p>En general, el proceso de migraci√≥n es sencillo si se utiliza el &lt;strong>.NET Upgrade Assistant&lt;/strong>, que gu√≠a paso a paso y realiza los cambios necesarios en el c√≥digo. Sin embargo, puede haber algunos casos en los que se tenga que hacer ajustes manuales o buscar alternativas a algunas caracter√≠sticas que no son compatibles con &lt;strong>WinUI 3&lt;/strong>.&lt;/p>
&lt;p>En l√≠neas generales segu√≠ &lt;a href="https://learn.microsoft.com/es-es/dotnet/core/porting/upgrade-assistant-uwp-framework">el ejemplo de la documentaci√≥n de Microsoft&lt;/a> y logramos terminar la migraci√≥n sin problemas en 2 d√≠as (14 horas en total).&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">upgrade-assistant upgrade XX.sln
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>¬°No modificamos nada!&lt;/p>
&lt;p>Es hora de ir a tomar un poco de tequila üòã&lt;/p>
&lt;p>¬°Espero resulte √∫til!&lt;/p></description></item></channel></rss>